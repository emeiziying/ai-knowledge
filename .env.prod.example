# =============================================================================
# AI Knowledge Base - Production Environment Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME=AI Knowledge Base
APP_VERSION=1.0.0
DEBUG=false
LOG_LEVEL=WARN

# -----------------------------------------------------------------------------
# Network Configuration
# -----------------------------------------------------------------------------
# External ports (behind reverse proxy)
HTTP_PORT=80
HTTPS_PORT=443

# Internal service ports (not exposed externally)
BACKEND_PORT=8000
FRONTEND_PORT=80

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
POSTGRES_DB=ai_knowledge_base_prod
POSTGRES_USER=ai_kb_user
POSTGRES_PASSWORD=CHANGE_THIS_SECURE_PASSWORD_IN_PRODUCTION
POSTGRES_PORT=5432

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD_IN_PRODUCTION
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# Qdrant Vector Database Configuration
# -----------------------------------------------------------------------------
QDRANT_HTTP_PORT=6333
QDRANT_GRPC_PORT=6334

# -----------------------------------------------------------------------------
# MinIO Object Storage Configuration
# -----------------------------------------------------------------------------
MINIO_ROOT_USER=ai_kb_admin
MINIO_ROOT_PASSWORD=CHANGE_THIS_MINIO_PASSWORD_IN_PRODUCTION_MIN_8_CHARS
MINIO_BUCKET=ai-kb-documents-prod
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# -----------------------------------------------------------------------------
# JWT Authentication Configuration
# -----------------------------------------------------------------------------
# IMPORTANT: Generate a cryptographically secure random string (32+ characters)
SECRET_KEY=CHANGE_THIS_JWT_SECRET_KEY_TO_SECURE_RANDOM_STRING_32_PLUS_CHARACTERS
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60

# -----------------------------------------------------------------------------
# AI Services Configuration
# -----------------------------------------------------------------------------
# OpenAI API (recommended for production)
OPENAI_API_KEY=sk-your_production_openai_api_key_here

# Ollama Configuration (optional, for local models)
OLLAMA_BASE_URL=http://ollama:11434
OLLAMA_PORT=11434

# -----------------------------------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------------------------------
# Use your production domain
VITE_API_BASE_URL=https://your-domain.com/api/v1
VITE_APP_NAME=AI Knowledge Base
VITE_APP_VERSION=1.0.0
VITE_DEV_MODE=false

# -----------------------------------------------------------------------------
# SSL/TLS Configuration
# -----------------------------------------------------------------------------
# SSL Certificate paths (mount these as volumes)
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# Domain configuration
DOMAIN=your-domain.com

# -----------------------------------------------------------------------------
# Security Headers and CORS
# -----------------------------------------------------------------------------
ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com
CORS_ALLOW_CREDENTIALS=true

# -----------------------------------------------------------------------------
# Monitoring and Logging
# -----------------------------------------------------------------------------
# Sentry DSN for error tracking (optional)
SENTRY_DSN=https://your-sentry-dsn-here

# Log retention (days)
LOG_RETENTION_DAYS=30

# -----------------------------------------------------------------------------
# Backup Configuration
# -----------------------------------------------------------------------------
# S3-compatible backup storage (optional)
BACKUP_S3_ENDPOINT=https://s3.amazonaws.com
BACKUP_S3_BUCKET=ai-kb-backups-prod
BACKUP_S3_ACCESS_KEY=your_backup_s3_access_key
BACKUP_S3_SECRET_KEY=your_backup_s3_secret_key

# Backup retention (days)
BACKUP_RETENTION_DAYS=90

# -----------------------------------------------------------------------------
# Performance Tuning
# -----------------------------------------------------------------------------
# Database connection pool
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30

# Redis connection pool
REDIS_POOL_SIZE=10

# Worker processes
WORKER_PROCESSES=4
WORKER_CONNECTIONS=1000

# File upload limits
MAX_FILE_SIZE_MB=100
MAX_FILES_PER_USER=1000

# Vector search limits
MAX_SEARCH_RESULTS=50
VECTOR_SEARCH_TIMEOUT=30

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
# API rate limits (requests per minute)
API_RATE_LIMIT=100
UPLOAD_RATE_LIMIT=10
SEARCH_RATE_LIMIT=30

# -----------------------------------------------------------------------------
# Email Configuration (for notifications)
# -----------------------------------------------------------------------------
SMTP_HOST=smtp.your-email-provider.com
SMTP_PORT=587
SMTP_USER=your-smtp-username
SMTP_PASSWORD=your-smtp-password
SMTP_FROM_EMAIL=noreply@your-domain.com
SMTP_USE_TLS=true

# -----------------------------------------------------------------------------
# Health Check Configuration
# -----------------------------------------------------------------------------
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
ENABLE_USER_REGISTRATION=true
ENABLE_DOCUMENT_SHARING=false
ENABLE_ANALYTICS=true
ENABLE_RATE_LIMITING=true

# -----------------------------------------------------------------------------
# Production Notes
# -----------------------------------------------------------------------------
# 1. Change ALL passwords and secret keys before deployment
# 2. Use strong, unique passwords (minimum 12 characters)
# 3. Enable SSL/TLS in production
# 4. Configure proper backup strategy
# 5. Set up monitoring and alerting
# 6. Review and adjust resource limits
# 7. Configure log rotation
# 8. Set up firewall rules
# 9. Use environment-specific domains
# 10. Test disaster recovery procedures